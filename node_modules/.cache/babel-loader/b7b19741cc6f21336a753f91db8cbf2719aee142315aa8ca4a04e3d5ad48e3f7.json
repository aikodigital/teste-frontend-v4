{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n// Utilities\nimport { defer, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport var makeDelayProps = propsFactory({\n  closeDelay: [Number, String],\n  openDelay: [Number, String]\n}, 'delay');\nexport function useDelay(props, cb) {\n  var clearDelay = function clearDelay() {};\n  function runDelay(isOpening) {\n    var _clearDelay;\n    (_clearDelay = clearDelay) === null || _clearDelay === void 0 || _clearDelay();\n    var delay = Number(isOpening ? props.openDelay : props.closeDelay);\n    return new Promise(function (resolve) {\n      clearDelay = defer(delay, function () {\n        cb === null || cb === void 0 || cb(isOpening);\n        resolve(isOpening);\n      });\n    });\n  }\n  function runOpenDelay() {\n    return runDelay(true);\n  }\n  function runCloseDelay() {\n    return runDelay(false);\n  }\n  return {\n    clearDelay: clearDelay,\n    runOpenDelay: runOpenDelay,\n    runCloseDelay: runCloseDelay\n  };\n}","map":{"version":3,"names":["defer","propsFactory","makeDelayProps","closeDelay","Number","String","openDelay","useDelay","props","cb","clearDelay","runDelay","isOpening","_clearDelay","delay","Promise","resolve","runOpenDelay","runCloseDelay"],"sources":["../../src/composables/delay.ts"],"sourcesContent":["// Utilities\nimport { defer, propsFactory } from '@/util'\n\n// Types\nexport interface DelayProps {\n  closeDelay?: number | string\n  openDelay?: number | string\n}\n\n// Composables\nexport const makeDelayProps = propsFactory({\n  closeDelay: [Number, String],\n  openDelay: [Number, String],\n}, 'delay')\n\nexport function useDelay (props: DelayProps, cb?: (value: boolean) => void) {\n  let clearDelay: (() => void) = () => {}\n\n  function runDelay (isOpening: boolean) {\n    clearDelay?.()\n\n    const delay = Number(isOpening ? props.openDelay : props.closeDelay)\n\n    return new Promise(resolve => {\n      clearDelay = defer(delay, () => {\n        cb?.(isOpening)\n        resolve(isOpening)\n      })\n    })\n  }\n\n  function runOpenDelay () {\n    return runDelay(true)\n  }\n\n  function runCloseDelay () {\n    return runDelay(false)\n  }\n\n  return {\n    clearDelay,\n    runOpenDelay,\n    runCloseDelay,\n  }\n}\n"],"mappings":";;AAAA;AAAA,SACSA,KAAK,EAAEC,YAAY,6BAE5B;AAMA;AACA,OAAO,IAAMC,cAAc,GAAGD,YAAY,CAAC;EACzCE,UAAU,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;EAC5BC,SAAS,EAAE,CAACF,MAAM,EAAEC,MAAM;AAC5B,CAAC,EAAE,OAAO,CAAC;AAEX,OAAO,SAASE,QAAQA,CAAEC,KAAiB,EAAEC,EAA6B,EAAE;EAC1E,IAAIC,UAAwB,GAAG,SAA3BA,UAAwBA,CAAA,EAAS,CAAC,CAAC;EAEvC,SAASC,QAAQA,CAAEC,SAAkB,EAAE;IAAA,IAAAC,WAAA;IACrC,CAAAA,WAAA,GAAAH,UAAU,cAAAG,WAAA,eAAVA,WAAA,CAAa,CAAC;IAEd,IAAMC,KAAK,GAAGV,MAAM,CAACQ,SAAS,GAAGJ,KAAK,CAACF,SAAS,GAAGE,KAAK,CAACL,UAAU,CAAC;IAEpE,OAAO,IAAIY,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BN,UAAU,GAAGV,KAAK,CAACc,KAAK,EAAE,YAAM;QAC9BL,EAAE,aAAFA,EAAE,eAAFA,EAAE,CAAGG,SAAS,CAAC;QACfI,OAAO,CAACJ,SAAS,CAAC;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA,SAASK,YAAYA,CAAA,EAAI;IACvB,OAAON,QAAQ,CAAC,IAAI,CAAC;EACvB;EAEA,SAASO,aAAaA,CAAA,EAAI;IACxB,OAAOP,QAAQ,CAAC,KAAK,CAAC;EACxB;EAEA,OAAO;IACLD,UAAU,EAAVA,UAAU;IACVO,YAAY,EAAZA,YAAY;IACZC,aAAA,EAAAA;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}